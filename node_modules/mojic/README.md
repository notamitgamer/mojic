# Mojic ğŸ”’ğŸ”®

> **Obfuscate C source code into a randomized stream of emojis using password-seeded encryption.**

**Mojic** (Magic + Emoji + Logic) is a CLI tool that transforms readable C code into an unreadable mess of emojis. Unlike simple substitution ciphers, Mojic uses your password to seed a Pseudo-Random Number Generator (PRNG), creating a unique "Emoji Universe" for every password.

## ğŸš€ Features

* **ğŸ” Seeded Shuffling:** Your password derives a seed that shuffles the emoji mapping. Two different passwords will produce completely different emoji outputs for the same file.
* **ğŸŒš Moon Header Protocol:** The file header (Salt + Auth Hash) is encoded using only Moon and Clock emojis to allow metadata reading before decryption.
* **ğŸ“‚ Recursive Processing:** Encrypt or decrypt entire project directories with one flag.
* **ğŸ”„ Security Rotation:** Rotate passwords or re-scramble the entropy of encrypted files without seeing the plaintext.
* **âš¡ Stream Based:** Handles large files efficiently using Node.js streams.

## ğŸ“¦ Installation

```bash
npm install -g mojic
```

## ğŸ› ï¸ Usage

### 1. Encrypting Code (`encode`)
Turns a `.c` file into a `.mojic` file.

```bash
# Encrypt a single file
mojic encode main.c

# Encrypt an entire directory recursively
mojic encode ./src -r
```
*You will be prompted to create a password. This password is required to decrypt.*

### 2. Decrypting Code (`decode`)
Restores the original C code from a `.mojic` file.

```bash
# Decrypt a single file
mojic decode main.mojic

# Decrypt an entire directory recursively
mojic decode ./src -r
```

### 3. Security & Rotation Tools (`srt`)
Manage encrypted files without revealing their contents.

```bash
# Change the password of an encrypted file
mojic srt --pass secret.mojic

# Re-shuffle the encryption (New Salt) with the SAME password
# (Useful if you want to change the visual emoji pattern without changing the password)
mojic srt --re secret.mojic
```

## ğŸ§  How it Works

1.  **Key Derivation:** Mojic uses **PBKDF2** to derive a 32-bit seed and an Auth Hash from your password and a random Salt.
2.  **The Shuffle:** It uses a custom **Mulberry32 PRNG** seeded with your key to shuffle a "Universe" of ~1500 emojis.
3.  **Tokenization:** C keywords (`int`, `return`, `void`) are tokenized and mapped to unique emojis from the shuffled universe. Remaining characters map to other emojis.
4.  **The Header:** The Salt and Auth Hash are written to the top of the file using a fixed "Header Alphabet" (ğŸŒ‘ğŸŒ’ğŸŒ“ğŸŒ”...) so the tool can verify your password before attempting decryption.

## ğŸ“„ License

This project is licensed under the Apache License 2.0 - see the [LICENSE](LICENSE) file for details.
